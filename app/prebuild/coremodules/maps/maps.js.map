{"version":3,"sources":["app/coremodules/maps/maps.js"],"names":[],"mappings":"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","file":"app/coremodules/maps/maps.js","sourcesContent":["'use strict';\n(function(){ // START IIFE\n\nangular.module('wxApp.coremodules.maps', ['wxApp.coremodules.conversions'])\n.service('MapsService', MapsService);\nMapsService.$inject = ['ConversionsService'];\n\nfunction MapsService(ConversionsService){\n\n\t// draws google map with markers and popups for indicated locations\n\t// input: arrCities - array of cities and their related data\n\t//      : currentRegion - current region of cities to limit list to and focus map on\n\t//      : containerId - div to put the map in\t\n\tthis.drawMap = function(arrCities, currentRegion, containerId){\n\t\t// filter out cities by region\n\t\tvar arr = [];\n\t\tfor (var i = 0;i < arrCities.length; i++){\n\t\t\tif (arrCities[i].region == currentRegion){\n\t\t\t\tarr.push(arrCities[i]);\n\t\t\t}\n\t\t}\n\t\tarrCities = arr;\n\n\t\t// draw map\n\t\tvar mapOptions = {\n\t\t\tcenter: { lat: arrCities[0].coord.lat, lng: arrCities[0].coord.lon},\n\t\t\tzoom: 8\n\t\t};\n\t\tvar map = new google.maps.Map(document.getElementById(containerId), mapOptions);\n\n\t\t// add markers\n\t\tvar markers = {};\n\t\tfor (var i = 0;i < arrCities.length;i++){\n\t\t\t(function(){\n\t\t\t\tvar name = arrCities[i].name;\n\t\t\t\tvar temp = ConversionsService.getTemperatureKelvinToFahrenheit(arrCities[i].main.temp);\n\t\t\t\tvar pressure = arrCities[i].main.pressure;\n\t\t\t\tvar humidity = arrCities[i].main.humidity;\n\t\t\t\tvar windspeed = arrCities[i].wind.speed;\n\t\t\t\tvar winddirection = ConversionsService.getWindDirectionDegToText(arrCities[i].wind.deg);\n\t\t\t\tvar contentString = '<div id=\"content\" style=\"width:200px\">'+\n\t\t\t\t\t'<div id=\"bodyContent\">'+\n\t\t\t\t\t'<div>'+name+'</div>'+\n\t\t\t\t\t'<div style=\"font-size:8pt;\">Temperature: '+temp+' &deg;F</div>'+\n\t\t\t\t\t'<div style=\"font-size:8pt;\">Pressure: '+pressure+' mb</div>'+\n\t\t\t\t\t'<div style=\"font-size:8pt;\">Humidity: '+humidity+' %</div>'+\n\t\t\t\t\t'<div style=\"font-size:8pt;\">Wind Speed: '+windspeed+' km/h</div>'+\n\t\t\t\t\t'<div style=\"font-size:8pt;\">Wind Direction: '+winddirection+'</div>'+\n\t\t\t\t\t'</div>'+\n\t\t\t\t\t'</div>';\n\n\t\t\t\tvar infowindow = new google.maps.InfoWindow({\n\t\t\t\t\tcontent: contentString\n\t\t\t\t});\n\n\t\t\t\tvar lat = arrCities[i].coord.lat;\n\t\t\t\tvar lon = arrCities[i].coord.lon;\n\t\t\t\tvar marker = new google.maps.Marker({\n\t\t\t\t\tposition: new google.maps.LatLng(lat,lon),\n\t\t\t\t\tmap: map,\n\t\t\t\t\ttitle:name,\n\t\t\t\t\ticon:'http://cdnimages.magicseaweed.com/30x30/5.png'\n\t\t\t\t});\n\t\t\t\tmarkers[i] = marker;\n\t\t\t\tvar x = i;\n\t\t\t\tgoogle.maps.event.addListener(marker, 'click', function() {\n\t\t\t\t\tinfowindow.open(map,markers[x]);\n\t\t\t\t});\n\t\t\t})();\n\t\t}\n\t}\n       \n}\n\n}\n)(); // END IIFE\n"]}