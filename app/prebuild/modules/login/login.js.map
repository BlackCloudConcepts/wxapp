{"version":3,"sources":["app/modules/login/login.js"],"names":[],"mappings":";AACC,aAAU;;;AAEX,SAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC,SAAS,EAAC,UAAU,EAAC,+BAA+B,CAAC,CAAC;;;GAG5F,MAAM,CAAC,CAAC,gBAAgB,EAAE,UAAS,cAAc,EAAE;AAChD,kBAAc,CAAC,IAAI,CAAC,QAAQ,EAAE;AAC1B,iBAAW,EAAE,0BAA0B;KAC1C,CAAC,CAAC;GACN,CAAC,CAAC;;;GAGF,UAAU,CAAC,iBAAiB,EAAE,eAAe,CAAC,CAC9C,OAAO,CAAC,iBAAiB,EAAE,eAAe,CAAC,CAAC;;;iBAG9B,CAAC,OAAO,GAAI,CAAC,iBAAiB,EAAE,QAAQ,CAAC,CAAC;;;WAGhD,eAAe,CAAC,eAAe,EAAE,MAAM,EAAE;AACjD,QAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,QAAI,WAAW,GAAG,IAAI,QAAQ,CAAC,kDAAkD,CAAC,CAAC;AACnF,QAAI,CAAC,MAAM,GAAG,UAAS,CAAC,EAAE;AACzB,OAAC,CAAC,cAAc,EAAE,CAAC;AACnB,UAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;AAC/B,UAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;AAClC,qBAAe,CAAC,KAAK,CAAC,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;KACxD,CAAA;GACD;;;;WAIQ,eAAe,GAAE;AACzB,QAAI,WAAW,GAAG,IAAI,QAAQ,CAAC,kDAAkD,CAAC,CAAC;;AAEnF,QAAI,CAAC,KAAK,GAAG,UAAS,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAC;AAC1D,iBAAW,CAAC,gBAAgB,CAAC;AAC3B,aAAK;AACL,gBAAQ,EAAG,QAAQ;OACnB,EAAE,UAAS,GAAG,EAAE,QAAQ,EAAE;AAC1B,YAAI,GAAG,EAAC;AACP,iBAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SACjB,MAAM;;AAEe,iBAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;;AAE9D,gBAAM,CAAC,OAAO,GAAG,IAAI,CAAC;AACD,kBAAQ,CAAC,MAAM,GAAC,WAAW,GAAC,QAAQ,GAAC,iDAAiD,CAAC;;AAEvF,kBAAQ,GAAG,OAAO,CAAC;SACxC;OACD,CACD,CAAC;KACF,CAAC;GACF;CAEA,CAAA,EAAG,CAAC","file":"app/modules/login/login.js","sourcesContent":["'use strict';\n(function(){ // START IIFE\n\nangular.module('wxApp.modules.login', ['ngRoute','firebase','wxApp.directivemodules.footer'])\n \n// Declared route \n.config(['$routeProvider', function($routeProvider) {\n    $routeProvider.when('/login', {\n        templateUrl: 'modules/login/login.html'\n    });\n}])\n\n// Define controller, services, factories, providers, filters \n.controller('LoginController', LoginController)\n.service('FirebaseService', FirebaseService);\n\n// Dependency injections to controller, services, factories, providers, filters\nLoginController.$inject =  ['FirebaseService', '$scope'];\n\n// Function defining LoginController\nfunction LoginController(FirebaseService, $scope) {\n\tvar self = this;\n\n\tvar firebaseObj = new Firebase(\"https://resplendent-heat-1209.firebaseio.com/wx/\");\n\tthis.SignIn = function(e) {\t\n\t\te.preventDefault();\n\t\tvar username = self.user.email;\n\t\tvar password = self.user.password;\n\t\tFirebaseService.login(username, password, $scope, self);\n\t} \n}\n\n// Function defining FirebaseService\n// input : None\nfunction FirebaseService(){\n\tvar firebaseObj = new Firebase(\"https://resplendent-heat-1209.firebaseio.com/wx/\");\n\n\tthis.login = function(username, password, $scope, callback){\n\t\tfirebaseObj.authWithPassword({\n\t\t\t\temail    : username,\n\t\t\t\tpassword : password\n\t\t\t}, function(err, authData) {\n\t\t\t\tif (err){\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t} else {\n\t\t\t\t\t//Success callback\n\t\t                        console.log('Authentication successful');\n                \t\t        // set cookie\n\t\t\t\t\t$scope.success = true;\n\t\t                        document.cookie=\"username=\"+username+\"; expires=Thu, 18 Dec 2023 12:00:00 UTC; path=/\";\n                \t\t        // redirect to home\n\t\t                        location = \"#home\";\t\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n}\n\n})(); // END IIFE\n"]}